import{j as e,L as h}from"./Loading.ClX_7RKV.js";import{r as a}from"./index.DhYZZe0J.js";function w({userId:s}){const[l,n]=a.useState(""),[u,c]=a.useState(""),[d,p]=a.useState(0),[f,b]=a.useState(!0),[i,m]=a.useState(null);async function x(){try{const r=await(await fetch(`https://api-mysql-test.vercel.app/api/data/${s}`)).json();n(r.name),c(r.last_name),p(r.age)}catch(t){m("Error fetching user data: "+t.message)}finally{b(!1)}}a.useEffect(()=>{x()},[s]);function o(t){const r=t.target;r.id==="name"?n(r.value):r.id==="lastName"?c(r.value):r.id==="age"&&p(parseInt(r.value,10))}async function g(t){t.preventDefault();try{const r=await fetch(`https://api-mysql-test.vercel.app/api/data/${s}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:l,last_name:u,age:d})});r.ok?(alert("User updated successfully"),window.location.href="/"):alert("Failed to update user: "+r.statusText)}catch(r){alert("Failed to update user: "+r.message)}}return f?e.jsx(h,{}):i?e.jsx("p",{children:i}):e.jsx("section",{className:"w-9/12 mx-auto mt-10",children:e.jsxs("form",{className:"max-w-md mx-auto",children:[e.jsxs("div",{className:"grid md:gap-6",children:[e.jsxs("div",{className:"relative z-0 w-full mb-5 group",children:[e.jsx("input",{type:"text",id:"userId",value:s,readOnly:!0,className:"block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-none focus:ring-0 focus:border-blue-600 peer",placeholder:" ",required:!0}),e.jsx("label",{htmlFor:"userId",className:"peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 rtl:peer-focus:translate-x-1/4 peer-focus:text-blue-600 peer-focus:dark:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6",children:"User ID"})]}),e.jsxs("div",{className:"relative z-0 w-full mb-5 group",children:[e.jsx("input",{type:"text",id:"name",value:l,onChange:o,className:"block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-none focus:ring-0 focus:border-blue-600 peer",placeholder:" ",required:!0}),e.jsx("label",{htmlFor:"name",className:"peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 rtl:peer-focus:translate-x-1/4 peer-focus:text-blue-600 peer-focus:dark:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6",children:"Name"})]}),e.jsxs("div",{className:"relative z-0 w-full mb-5 group",children:[e.jsx("input",{type:"text",id:"lastName",value:u,onChange:o,className:"block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-none focus:ring-0 focus:border-blue-600 peer",placeholder:" ",required:!0}),e.jsx("label",{htmlFor:"lastName",className:"peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 rtl:peer-focus:translate-x-1/4 peer-focus:text-blue-600 peer-focus:dark:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6",children:"Last Name"})]}),e.jsxs("div",{className:"relative z-0 w-full mb-5 group",children:[e.jsx("input",{type:"number",id:"age",value:d,onChange:o,className:"block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-none focus:ring-0 focus:border-blue-600 peer",placeholder:" ",required:!0}),e.jsx("label",{htmlFor:"age",className:"peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 rtl:peer-focus:translate-x-1/4 peer-focus:text-blue-600 peer-focus:dark:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6",children:"Age"})]})]}),e.jsx("button",{type:"submit",onClick:g,className:"text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm w-full sm:w-auto px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800",children:"Save"}),e.jsx("button",{type:"button",onClick:()=>history.back(),className:"ml-4 bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline",children:"Cancel"})]})})}export{w as default};
